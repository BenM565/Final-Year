<!--code layout is from chatgpt-->
<!--inside is customised with my own code-->

{% extends "base.html" %}
{% block content %}
{# admin view of all student accounts #}

<h5 class="mb-3">Student accounts</h5>

{% if students %}
  <ul class="list-group">
    {% for s in students %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <div class="fw-semibold">
            {{ s.name }}
            {% if s.verified %}
              <span class="badge bg-success ms-2">Verified</span>
            {% endif %}
          </div>
          <div class="small text-muted">
            {{ s.email }} Â· id: {{ s.id }}
          </div>
        </div>

        <div class="d-flex align-items-center gap-2">
          <a href="{{ url_for('admin_user_detail', user_id=s.id) }}" class="btn btn-sm btn-outline-secondary">
            View
          </a>

          {% if not s.verified %}
            <form method="post" action="{{ url_for('admin_verify_user', user_id=s.id) }}">
              <button class="btn btn-sm btn-success">Verify</button>
            </form>
          {% else %}
            <form method="post" action="{{ url_for('admin_unverify_user', user_id=s.id) }}">
              <button class="btn btn-sm btn-outline-warning">Remove badge</button>
            </form>
          {% endif %}

          <form method="post" action="{{ url_for('admin_delete_user', user_id=s.id) }}" onsubmit="return confirm('Delete this user account?');">
            <button class="btn btn-sm btn-outline-danger">Delete</button>
          </form>
        </div>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p class="text-muted">No student accounts found.</p>
{% endif %}

{% endblock %}
